import tkinter as tk
import random

SIZE = 3
MINES = 3

BG = "#07182e"     # —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω
BTN = "#102a43"    # —Å–∏–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
OPEN = "#1c4e80"   # –æ—Ç–∫—Ä—ã—Ç–∞—è –∫–ª–µ—Ç–∫–∞
TEXT = "white"

root = tk.Tk()
root.title("–õ–µ–¥—è–Ω—ã–µ –º–∏–Ω—ã")
root.configure(bg=BG)
root.resizable(False, False)

field = [[0]*SIZE for _ in range(SIZE)]
buttons = [[None]*SIZE for _ in range(SIZE)]
opened = 0

# –º–∏–Ω—ã
mines = set()
while len(mines) < MINES:
    mines.add((random.randint(0, 2), random.randint(0, 2)))

for x, y in mines:
    field[x][y] = "M"
    for dx in [-1, 0, 1]:
        for dy in [-1, 0, 1]:
            nx, ny = x + dx, y + dy
            if 0 <= nx < SIZE and 0 <= ny < SIZE and field[nx][ny] != "M":
                field[nx][ny] += 1

frame = tk.Frame(root, bg=BG)
frame.pack(padx=20, pady=20)

def click(x, y):
    global opened
    b = buttons[x][y]

    if b["state"] == "disabled":
        return

    if field[x][y] == "M":
        b.config(text="üí£", bg="red")
        for i, j in mines:
            buttons[i][j].config(text="üí£")
    else:
        b.config(
            text="" if field[x][y] == 0 else str(field[x][y]),
            bg=OPEN
        )
        opened += 1

    b.config(state="disabled")

for i in range(SIZE):
    for j in range(SIZE):
        btn = tk.Button(
            frame,
            width=6,
            height=3,
            bg=BTN,
            fg=TEXT,
            font=("Arial", 14, "bold"),
            command=lambda x=i, y=j: click(x, y)
        )
        btn.grid(row=i, column=j, padx=6, pady=6)
        buttons[i][j] = btn

root.mainloop()
